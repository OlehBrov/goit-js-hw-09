{"mappings":"oeAAAA,EAAA,SAEAC,KAAO,CACLC,KAAMC,SAASC,cAAc,SAC7BC,UAAWF,SAASC,cAAc,WAGpC,MAAME,EAAW,GACjB,IAAIC,EAAiB,EACjBC,EAAY,KACZC,EAAa,KA4CjB,SAASC,EAAcC,EAAUC,GACTC,KAAKC,SAAW,GAEpCC,QAAQC,IAAI,uBAAqBL,QAAiBC,OAEhDG,QAAMC,IAAI,sBAAoBL,QAAiBC,M,CA/CrDX,KAAKC,KAAKe,iBAAiB,SAG3B,SAAmBC,GAClBZ,EAASY,EAAEC,OAAOC,MAAQF,EAAEC,OAAOE,MACnCN,QAAQC,IAAIV,EAASM,M,IAJtBX,KAAKI,UAAUY,iBAAiB,SAUhC,SAAkBC,GAChBA,EAAEI,iBAKJd,EAAYe,YAAY,KAetBb,EAAcH,EAAgBD,EAASkB,MACvCjB,GAAkB,EAClBkB,aAAajB,EAhBG,GACbF,EAASM,OAEVN,EAASoB,SAAWnB,GACtBoB,cAAclB,GAGdA,EAAamB,aAAY,KACR,GACdtB,EAASkB,K,IAnBdT,QAAQC,IAAIV,GACZS,QAAQC,IAAIV,EAASM","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nrefs = {\n  form: document.querySelector('.form'),\n  submitBtn: document.querySelector('button')\n}\n\nconst userData = {};\nlet promiseCounter = 1;\nlet timeOutId = null;\nlet intervalId = null;\n\nrefs.form.addEventListener('input', storeData);\nrefs.submitBtn.addEventListener('click', onSubmit)\n\nfunction storeData(e){\n userData[e.target.name] = e.target.value;\n console.log(userData.delay)\n\n}\nconsole.log(userData)\nconsole.log(userData.delay)\n\nfunction onSubmit(e){\n  e.preventDefault();\n  // if(userData.amount < promiseCounter) {\n  //   return;\n  // }\n\ntimeOutId = setTimeout (() => {\n  delayedPromise()\n  }, userData.delay);\n\nif (userData.amount === promiseCounter){\n  clearInterval(intervalId)\n};\n\n  intervalId = setInterval(() => {\n    intervalPromise\n  }, userData.step); \n \n}\n\nfunction delayedPromise(){\n  createPromise(promiseCounter, userData.step);\n  promiseCounter += 1;\n  clearTimeout(timeOutId)\n}\n\nfunction intervalPromise(){\n  createPromise(promiseCounter, userData.step);\n  promiseCounter += 1;\n}\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n  if (shouldResolve) {\n    console.log(`✅ Fulfilled promise ${position} in ${delay}ms`); \n  } else {\n    console.log(`❌ Rejected promise ${position} in ${delay}ms`);\n  }\n}\n\n// createPromise(2, 1500)\n//   .then(({ position, delay }) => {\n//     console.log(`✅ Fulfilled promise ${position} in ${delay}ms`);\n//   })\n//   .catch(({ position, delay }) => {\n//     console.log(`❌ Rejected promise ${position} in ${delay}ms`);\n//   });"],"names":["parcelRequire","refs","form","document","querySelector","submitBtn","$47d4ff9957288465$var$userData","$47d4ff9957288465$var$promiseCounter","$47d4ff9957288465$var$timeOutId","$47d4ff9957288465$var$intervalId","$47d4ff9957288465$var$createPromise","position","delay","Math","random","console","log","addEventListener","e","target","name","value","preventDefault","setTimeout","step","clearTimeout","amount","clearInterval","setInterval"],"version":3,"file":"03-promises.03b5cf86.js.map"}