{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SAEAC,EAAAF,GAASG,OAAOC,KAAK,CAACC,SAAU,SAGhC,IAAMC,EAAOC,SAASC,cAAc,SAC9BC,EAAYF,SAASC,cAAc,UAErCE,EAAW,CACbC,MAAO,GAELC,EAAkB,EAClBC,EAAa,KAEbC,GADUJ,EAASC,MACPI,OAAOL,EAASC,QAqBhC,SAASK,EAAcC,EAAUC,GAC/B,OAAO,IAAIC,SAAQ,SAACC,EAASC,GACvBR,EAAaS,aAAY,WACzBV,GAAkB,EAClBE,GAAaC,OAAOG,GAEEK,KAAKC,SAAW,GAElCJ,EAASlB,EAAAF,GAASG,OAAOsB,QAAQ,uBAA+CC,OAAtBd,EAAgB,QAAgBc,OAAVZ,EAAU,QAExFO,EAAKnB,EAAAF,GAASG,OAAOwB,QAAQ,sBAA4CD,OAAtBd,EAAgB,QAAgBc,OAAVZ,EAAU,QAIpFF,IAAoBG,OAAOL,EAASkB,SAAWb,OAAOE,KAAcL,GACrEiB,cAAchB,E,GAChBK,E,IAjCVZ,EAAKwB,iBAAiB,SAGtB,SAAuBC,GACrBrB,EAASqB,EAAEC,OAAOC,MAAQF,EAAEC,OAAOE,K,IAHrCzB,EAAUqB,iBAAiB,SAM3B,SAAuBC,GACrBA,EAAEI,iBACFC,YAAW,WAETpB,EAAcN,EAASkB,OAAQlB,EAAS2B,K,GAEvC3B,EAASC,M,IAyBZK,EAAc,EAAG,MAAMsB,MACvB,SAAAC,GAAWrC,EAAAF,GAASG,OAAOsB,QAAQc,E,IACnC,SAAAC,GAAUtC,EAAAF,GAASG,OAAOwB,QAAQa,E","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nNotiflix.Notify.init({fontSize: '18px',});\n\n\nconst form = document.querySelector('.form');\nconst submitBtn = document.querySelector('button');\n\nlet userData = {\n  delay: 0,\n};\nlet positionCounter = 0;\nlet intervalId = null;\nconst delay = userData.delay;\nlet delayTime = Number(userData.delay);\n\n\n\nform.addEventListener('input', userInputSave);\nsubmitBtn.addEventListener('click', buildPromises)\n\nfunction userInputSave(e){\n  userData[e.target.name] = e.target.value;\n}\n\nfunction buildPromises(e){\n  e.preventDefault();\n  setTimeout(() => {\n\n    createPromise(userData.amount, userData.step);\n    \n  }, userData.delay)\n}\n\n\nfunction createPromise(position, delay){\n  return new Promise((resolve, reject) => {\n        intervalId = setInterval(() => {\n        positionCounter +=1;\n        delayTime += Number(delay);\n\n        const shouldResolve = Math.random() > 0.3;\n          if(shouldResolve){\n            resolve (Notiflix.Notify.success(`✅ Fulfilled promise ${positionCounter} in ${delayTime}ms`));\n          } else {\n            reject(Notiflix.Notify.warning(`❌ Rejected promise ${positionCounter} in ${delayTime}ms`));\n          }\n          \n          \n          if(positionCounter === Number(userData.amount) || Number(position) === positionCounter){\n            clearInterval(intervalId)}\n        },delay)\n    })    \n  }\n  \n\n  createPromise(4, 2500).then(\n  result => {Notiflix.Notify.success(result)}, \n  error => {Notiflix.Notify.warning(error)})"],"names":["$6JpON","parcelRequire","$parcel$interopDefault","Notify","init","fontSize","$ce04d3a99e08e73b$var$form","document","querySelector","$ce04d3a99e08e73b$var$submitBtn","$ce04d3a99e08e73b$var$userData","delay","$ce04d3a99e08e73b$var$positionCounter","$ce04d3a99e08e73b$var$intervalId","$ce04d3a99e08e73b$var$delayTime","Number","$ce04d3a99e08e73b$var$createPromise","position","delay1","Promise","resolve","reject","setInterval","Math","random","success","concat","warning","amount","clearInterval","addEventListener","e","target","name","value","preventDefault","setTimeout","step","then","result","error"],"version":3,"file":"03-promises.5dd524c7.js.map"}